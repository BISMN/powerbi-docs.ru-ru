---
title: Добавление пользовательского столбца в Power BI Desktop
description: Быстрое создание пользовательского столбца в Power BI Desktop
author: davidiseminger
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: conceptual
ms.date: 05/07/2019
ms.author: davidi
LocalizationGroup: Create reports
ms.openlocfilehash: e2412fe72d62549277001b64121ecf9db2ea5502
ms.sourcegitcommit: 60dad5aa0d85db790553e537bf8ac34ee3289ba3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "65239534"
---
# <a name="add-a-custom-column-in-power-bi-desktop"></a>Добавление пользовательского столбца в Power BI Desktop
Вы можете легко добавить новый пользовательский столбец данных в модель с помощью **редактора запросов** в **Power BI Desktop**. Вы можете создать и переименовать пользовательский столбец с помощью кнопок для создания [формул M](https://msdn.microsoft.com/library/mt270235.aspx), определяющих пользовательский столбец. Для формулы M доступен [полный набор справочных материалов по функциям](https://msdn.microsoft.com/library/mt779182.aspx). 

![](media/desktop-add-custom-column/add-custom-column_01.png)

Создание пользовательского столбца является еще одним **примененным действием** к запросу, создаваемому в **редакторе запросов**. Это означает, что его можно изменить или переместить в любой момент времени.

## <a name="use-query-editor-to-add-a-new-custom-column"></a>Добавление нового пользовательского столбца с помощью редактора запросов
Чтобы создать пользовательский столбец, запустите **редактор запросов**. Для этого можно щелкнуть элемент **Изменить запросы** на вкладке ленты **Главная** в **Power BI Desktop**.

![](media/desktop-add-custom-column/add-column-from-example_02.png)

После запуска **редактора запросов** и загрузки части данных можно добавить настраиваемый столбец, выбрав вкладку **Добавить столбец** на ленте, а затем выбрав **Пользовательский столбец**.

![](media/desktop-add-custom-column/add-custom-column_02.png)

Отображается окно **Добавление пользовательского столбца**, которое описано в следующем разделе.

## <a name="the-add-custom-column-window"></a>Окно "Добавить пользовательский столбец"
В окне **Добавление пользовательского столбца** появится список доступных полей в области справа, имя пользовательского столбца сверху (его можно переименовать, введя новое имя в это текстовое поле) и [формула **M**](https://msdn.microsoft.com/library/mt779182.aspx), созданная (или написанная) на основе вставляемых полей справа, добавляемых операторов или созданная другим способом формула, определяющая новый пользовательский столбец. 

![](media/desktop-add-custom-column/add-custom-column_03.png)

## <a name="create-formulas-for-your-custom-column"></a>Создание формул для пользовательского столбца
Вы можете выбрать поле в списке **Доступные столбцы:** справа, а затем выбрать **< < Вставить**, чтобы добавить формулу для пользовательского столбца. Кроме того, можно просто дважды щелкнуть столбец в списке, чтобы его добавить.

При вводе формулы и создании столбца в нижней части окна появится индикатор, сообщающий об обнаруженных синтаксических ошибках в режиме реального времени (при вводе). Если все хорошо, отобразится зеленая галочка.

![](media/desktop-add-custom-column/add-custom-column_04.png)

Если возникли определенные ошибки синтаксиса, появится желтый значок предупреждения, а также обнаруженная ошибка и ссылка, при выборе которой курсор помещается в место обнаружения ошибки в формуле.

![](media/desktop-add-custom-column/add-custom-column_05.png)

При нажатии кнопки **ОК** настраиваемый столбец добавляется в модель и действие **Добавлен пользовательский объект** добавится к **примененным шагам** запроса.

![](media/desktop-add-custom-column/add-custom-column_06.png)

Если дважды щелкнуть шаг **Добавлен пользовательский объект** на панели **примененных действий**, окно **Добавить пользовательский столбец** появится снова с загруженной созданной формулой пользовательского столбца, которую при необходимости можно изменить.

## <a name="using-the-advanced-editor-for-custom-columns"></a>Использование расширенного редактора для настраиваемых столбцов
Создать пользовательский столбец (и изменить какой-либо шаг запроса) можно с помощью **расширенного редактора**. В **редакторе запросов** выберите **Представление**, а затем — **Расширенный редактор**, чтобы отобразить **расширенный редактор**.

![](media/desktop-add-custom-column/add-custom-column_07.png)

**Расширенный редактор** предоставляет возможность полного контроля над запросом.

## <a name="next-steps"></a>Дальнейшие действия
Существуют другие способы создания пользовательских столбцов, включая создание столбца на основе примеров, предоставленных **редактору запросов**. Дополнительные сведения о создании настраиваемых столбцов на основе примеров см. в следующей статье:

* [Добавление столбца из примера в Power BI Desktop](desktop-add-column-from-example.md)
* [Общие сведения о языке формул M](https://msdn.microsoft.com/library/mt270235.aspx)
* [Справочник по функциям M](https://msdn.microsoft.com/library/mt779182.aspx)  

