---
title: Объединение и добавление локальных и облачных источников данных
description: Используйте локальный шлюз данных для объединения или добавления локальных и облачных источников данных в одном запросе.
author: mgblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-gateways
ms.topic: conceptual
ms.date: 07/15/2019
ms.author: mblythe
LocalizationGroup: Gateways
ms.openlocfilehash: 39f5a01a396e45207777b1a5e58e73808ddf3f88
ms.sourcegitcommit: a58461fe7dfa65c751490b52de5fc73f8e69a17f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/19/2019
ms.locfileid: "68352178"
---
# <a name="merge-or-append-on-premises-and-cloud-data-sources"></a>Объединение и добавление локальных и облачных источников данных

[!INCLUDE [gateway-rewrite](includes/gateway-rewrite.md)]

Локальный шлюз данных позволяет объединять или добавлять локальные и облачные источники данных в одном запросе. Это полезно, если нужно комбинировать данные из нескольких источников, не используя отдельные запросы.

>[!NOTE]
>Эта статья относится только к наборам данных, для которых в одном запросе объединяются или добавляются облачные и локальные источники данных. Для наборов данных с отдельными запросами (один для подключения к локальному источнику данных, а другой — к облачному) тот запрос, который использует облачный источник данных, не будет выполняться с помощью шлюза.

## <a name="prerequisites"></a>Предварительные требования

- [Шлюз, установленный](/data-integration/gateway/service-gateway-install) на локальном компьютере.
- Файл Power BI Desktop с запросами, в которых сочетаются локальные и облачные источники данных.

>[!NOTE]
>Чтобы обратиться к любым облачным источникам данных, нужно убедиться, что шлюз имеет доступ к ним.

1. В службе Power BI в правом верхнем углу экрана щелкните значок шестеренки ![Значок параметров](media/service-gateway-mashup-on-premises-cloud/icon-gear.png) > **Управление шлюзами**.

    ![Управление шлюзами](media/service-gateway-mashup-on-premises-cloud/manage-gateways.png)

2. Выберите шлюз, который нужно настроить.

3. В разделе **Параметры кластера шлюза** выберите **Разрешите облачные источники данных пользователя, чтобы обновлять их через этот кластер шлюза** > **Применить**.

    ![Обновление через этот кластер шлюза](media/service-gateway-mashup-on-premises-cloud/refresh-gateway-cluster.png)

4. В кластере шлюза добавьте [локальные источники данных](service-gateway-enterprise-manage-scheduled-refresh.md#add-a-data-source), используемые в запросах. Добавлять здесь облачные источники данных не требуется.

5. Отправьте в службу Power BI файл Power BI Desktop с запросами, в которых сочетаются локальные и облачные источники данных.

6. На странице **Настройки набора данных** для нового набора данных выполните указанные ниже действия.

   - Для локального источника выберите шлюз, связанный с этим источником данных.

   - В разделе **Учетные данные источника данных** при необходимости измените учетные данные облачного источника данных.

    Убедитесь, что уровни конфиденциальности для облачных и локальных источников данных установлены должным образом, чтобы обеспечить безопасную обработку соединений.

     ![Параметры набора данных](media/service-gateway-mashup-on-premises-cloud/dataset-settings.png)

7. Задав учетные данные облачного источника, можно обновить набор данных с помощью команды **Обновить** или запланировать периодическое обновление.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения об обновлении данных для шлюзов см. в статье [Использование источника данных для запланированного обновления](service-gateway-enterprise-manage-scheduled-refresh.md#using-the-data-source-for-scheduled-refresh).
