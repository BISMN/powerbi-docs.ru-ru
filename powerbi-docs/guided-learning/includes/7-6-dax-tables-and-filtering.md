---
ms.openlocfilehash: 629c53358f757002f2b3dcda468641bbaaa2f4d4
ms.sourcegitcommit: c0f4d00d483121556a1646b413bab75b9f309ae9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2019
ms.locfileid: "70166772"
---
Важное отличие **DAX** от языка формул Excel заключается в том, в DAX можно передавать из одного выражения в другое *целые таблицы*, а не отдельные значения. Благодаря этому в DAX вы можете фильтровать таблицы в выражениях и продолжать работу с отфильтрованными наборами значений.

![](media/7-6-dax-tables-and-filtering/dax-tables-filtering_1.png)

DAX позволяет создавать абсолютно новые вычисляемые таблицы и работать с ними так же, как с обычными, в том числе задавать связи между вычисляемыми и другими таблицами в модели данных.

## <a name="dax-table-functions"></a>Табличные функции DAX
В DAX есть широкий набор **табличных** функций, включая перечисленные ниже.

* FILTER
* ALL
* VALUES
* DISTINCT
* RELATEDTABLE

Эти функции возвращают целую таблицу, а не значение. Результаты **табличной** функции обычно используются для последующего анализа в составе большего выражения, а не в качестве окончательного значения. Важно помнить, что при использовании табличной функции результаты наследуют связи столбцов таблицы.

В выражении можно комбинировать табличные функции, так как каждая из них использует таблицу и возвращает таблицу. Например, рассмотрим следующее выражение DAX:

    FILTER (ALL (Table), Condition)

Оно применяет фильтр ко всей таблице *Table*, игнорируя содержимое текущего фильтра.

Функция DISTINCT возвращает уникальные значения столбца, которые также видны в текущем контексте. Поэтому в приведенном выше примере DAX-выражения функция **ALL** предписывает игнорировать фильтры, а если заменить **ALL** на **DISTINCT**, фильтры будут применяться.

## <a name="counting-values-with-dax"></a>Подсчет значений средствами DAX
Создателям отчетов Power BI часто приходится отвечать на стандартный вопрос:

* "Сколько значений в этом столбце?"

На него легко ответить, если таблица находится прямо перед глазами, но DAX использует иной подход, особенно если между таблицами существует связь.

Например, Power BI и DAX учитывают значения, для которых нет оптимального перекрестного индекса. Если входящая связь нарушена, DAX добавляет в связанную таблицу новую строку, которая содержит пробелы в каждом поле, и связывает ее с неиндексированной строкой, чтобы обеспечить целостность данных. Если функция охватывает пустые строки (например, так часто бывает при использовании функции **ALL**), все они будут учтены при подсчете количества значений в этом столбце.

С помощью функций DAX можно также создать полностью вычисляемые таблицы. Для вычисляемых таблиц, созданных с помощью DAX, необходимы **ИМЯ** и **ТАБЛИЧНАЯ** функция. Вычисляемые таблицы можно использовать как и любую другую таблицу, включая создание связей.

> Видео от [Альберто Феррари (Alberto Ferrari), SQLBI](http://www.sqlbi.com/learning-dax)
> 
> 

