---
title: Устранение неполадок с Power BI Gateway - Personal
description: Устранение неполадок с Power BI Gateway - Personal
author: mgblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 5/06/2019
ms.author: mblythe
LocalizationGroup: Troubleshooting
ms.openlocfilehash: 7827ce359022eccfb75798b08da164b7504c84df
ms.sourcegitcommit: 277fadf523e2555004f074ec36054bbddec407f8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/16/2019
ms.locfileid: "68271833"
---
# <a name="troubleshooting-power-bi-gateway---personal"></a>Устранение неполадок с Power BI Gateway - Personal

[!INCLUDE [gateway-rewrite](includes/gateway-rewrite.md)]

В следующих разделах рассмотрено несколько распространенных проблем, которые могут возникнуть при использовании шлюза Power BI Gateway — Personal.

## <a name="update-to-the-latest-version"></a>Обновление до самой последней версии

Текущая версия шлюза для личного использования — **локальный шлюз данных (персональный режим)** . Обновите установку, чтобы использовать эту версию.

При использовании устаревшей версии шлюза могут возникать разные проблемы.  Рекомендуется всегда следить за тем, чтобы использовалась самая новая версия. Если шлюз не обновлялся в течение месяца или более, рекомендуется установить последнюю версию шлюза. После этого проверьте, удается ли воспроизвести ошибку.

## <a name="installation"></a>Установка
**Персональный шлюз является 64-разрядным**, поэтому, если ваш компьютер 32-разрядный, вы не сможете установить персональный шлюз. Ваша операционная система должна быть 64-разрядной. Установите 64-разрядную версию ОС Windows или персональный шлюз на 64-разрядном компьютере.

**Не удается установить персональный шлюз в качестве службы, хотя вы являетесь администратором компьютера**. Сбой установки может происходить, если пользователь принадлежит к локальной группе администраторов компьютера, однако групповая политика не позволяет конкретному пользователю выполнять вход в качестве службы. Перед установкой убедитесь, что групповая политика позволяет пользователю выполнять вход в качестве службы. Мы работаем над исправлением этой проблемы. [Дополнительные сведения](https://technet.microsoft.com/library/cc739424.aspx)

**Истекло время ожидания операции**. Это часто происходит, если на компьютере (физическом компьютере или виртуальной машине), где устанавливается персональный шлюз, установлен одноядерный процессор. Закройте все приложения, отключите все необязательные процессы и попытайтесь повторить установку.

**Шлюз управления данными или Analysis Services Connector невозможно установить на одном компьютере с персональным шлюзом**. Если на компьютере уже установлен соединитель Analysis Services  Connector или шлюз управления данными, необходимо сначала удалить такой соединитель или шлюз. После этого попытайтесь установить персональный шлюз.

> [!NOTE]
> При возникновении проблем во время установки журналы установки могут предоставить сведения, которые помогут устранить проблему. Дополнительные сведения см. в разделе [Журналы установки](#SetupLogs).
> 
> 

 **Конфигурация прокси-сервера**. При настройке персонального шлюза могут возникнуть проблемы, если в среде требуется использование прокси-сервера. Дополнительные сведения о настройке прокси-сервера см. в разделе [Настройка параметров прокси-сервера для локального шлюза данных](/data-integration/gateway/service-gateway-proxy).

## <a name="schedule-refresh"></a>Расписание обновления
**Ошибка Отсутствуют учетные данные, хранящиеся в облаке.**

Подобное сообщение об ошибке может отобразиться в разделе "Параметры" для \<набора данных\>, если вы запланировали обновление, а затем удалили и повторно установили персональный шлюз. При удалении персонального шлюза учетные данные источника данных для набора данных, который был настроен для обновления, удаляются из службы Power BI.

**Решение:** В Power BI перейдите к параметрам обновления для набора данных. В разделе "Управление источниками данных" для любого источника данных с ошибкой щелкните **Изменить учетные данные** и снова войдите в источник данных.

**Ошибка Недопустимые учетные данные для набора данных. Чтобы продолжить работу, обновите учетные данные, используя функцию обновления или диалоговое окно "Параметры источника данных".**

**Решение.** Если вы получите сообщение об учетных данных, это может означать следующее:

* Убедитесь в актуальности имен пользователей и паролей, используемых для входа в источники данных. В Power BI перейдите к параметрам обновления для набора данных. В разделе "Управление источниками данных" щелкните **Изменить учетные данные**, чтобы обновить учетные данные для источника данных.
* Гибридные веб-приложения с использованием облачных и локальных источников в одном запросе не обновляются в персональном шлюзе, если в одном из источников для проверки подлинности используется OAuth. В качестве примера можно привести гибридное веб-приложение между CRM Online и локальным сервером SQL Server. Оно не будет работать, так как CRM Online требует OAuth.
  
  Это известная проблема, над решением которой ведется работа. Чтобы обойти проблему, создайте отдельные запросы для облачного и локального источников. Затем объедините или соедините эти запросы.

**Ошибка Неподдерживаемый источник данных.**

**Решение:** Сообщение о неподдерживаемом источнике данных в параметрах расписания обновления может означать следующее: 

* обновление источника данных в Power BI сейчас не поддерживается; 
* книга Excel не содержит модель данных, а только данные листа. Power BI в настоящее время поддерживает обновление, только если переданная книга Excel содержит модель данных. При импорте данных с помощью Power Query в Excel обязательно выберите вариант загрузки данных в модель данных. Это гарантирует, что данные будут импортированы в модель данных. 

**Ошибка. [Не удается объединить данные] &lt;часть запроса&gt;/&lt;…&gt;/&lt;…&gt; обращается к источникам данных с уровнями конфиденциальности, которые не предусматривают совместное использование. Повторите сборку этого объединения данных.**

**Решение.** Эта ошибка связана с ограничениями уровня конфиденциальности и используемыми типами источников данных.

**Ошибка Ошибка в источнике данных: не удается преобразовать значение \[таблица\] в тип таблицы.**

**Решение.** Эта ошибка связана с ограничениями уровня конфиденциальности и используемыми типами источников данных.

**Ошибка Недостаточно места для этой строки.**

Эта ошибка происходит, если размер одной строки превышает 4 МБ. Найдите строку в источнике данных и попытайтесь отфильтровать ее или уменьшить ее размер.

## <a name="data-sources"></a>Источники данных
**Отсутствует поставщик данных**. Для персонального шлюза доступна только 64-разрядная версия. Для работы шлюза на компьютере, где установлен личный шлюз, должны быть установлены 64-разрядные версии поставщиков данных. Например, если в качестве источника данных в наборе данных используется Microsoft Access, необходимо установить 64-разрядный поставщик ACE на том же компьютере, на котором установлен личный шлюз.  

>[!NOTE]
>При использовании 32-разрядной версии Excel невозможно установить 64-разрядный поставщик ACE на том же компьютере.

**Проверка подлинности Windows не поддерживается для базы данных Access**. В настоящее время Power BI поддерживает только анонимный доступ для базы данных Access. Мы работаем над включением проверки подлинности Windows для баз данных Access.

**Ошибка входа при вводе учетных данных для источника данных**. Если при вводе учетных данных Windows для источника данных выводится примерно следующее сообщение об ошибке, возможно, вы все еще используете более раннюю версию персонального шлюза. [Установите последнюю версию шлюза Power BI Gateway - Personal](https://powerbi.microsoft.com/gateway/).

  ![](media/service-admin-troubleshooting-power-bi-personal-gateway/pbi_pg_credentialserror.jpg.png)

**Ошибка Ошибка входа при выборе проверки подлинности Windows для источника данных с помощью OLEDB ACE.** При вводе учетных данных источника данных с помощью поставщика OLEDB ACE, возникает следующая ошибка:

![](media/service-admin-troubleshooting-power-bi-personal-gateway/aceoledberror.png)

Сейчас Power BI не поддерживает проверку подлинности Windows для источника данных с помощью поставщика OLEDB ACE.

**Решение:** Чтобы обойти эту ошибку, можно выбрать **анонимную проверку подлинности**. Для устаревших поставщиков OLEDB ACE анонимные учетные данные соответствуют учетным данным Windows.

## <a name="tile-refresh"></a>Обновление плитки
Если при обновлении плитки возникает ошибка, см. следующую статью:

[Устранение неполадок с плитками](refresh-troubleshooting-tile-errors.md)

## <a name="tools-for-troubleshooting"></a>Инструменты для устранения неполадок
### <a name="refresh-history"></a>Журнал обновления
**Журнал обновлений** может помочь выявить возникшие ошибки, а также предоставляет полезные данные в случае, если требуется создать запрос на поддержку. Можно просматривать как запланированные обновления, так и обновления по запросу. Ниже описано, как можно открыть **журнал обновлений**.

1. В области навигации Power BI в разделе **Наборы данных** выберите набор данных, затем &gt; меню "Открыть" &gt; **Запланировать обновление**.
   ![](media/service-admin-troubleshooting-power-bi-personal-gateway/scheduled-refresh.png)
1. В области **Параметры для...** выберите **Журнал обновлений**.  
   ![](media/service-admin-troubleshooting-power-bi-personal-gateway/scheduled-refresh-2.png)
   
   ![](media/service-admin-troubleshooting-power-bi-personal-gateway/refresh-history.png)

### <a name="event-logs"></a>Журналы событий
Нужные сведения могут предоставить несколько журналов событий. Первые два — **шлюза управления данными** и **PowerBIGateway** — доступны, если вы обладаете правами администратора на данном компьютере.  Если вы не являетесь администратором и используете персональный шлюз, вы увидите записи из журнала **приложения**.

Журналы **шлюза управления данными** и **PowerBIGateway** расположены в разделе **Журналы приложения и служб**.

![](media/service-admin-troubleshooting-power-bi-personal-gateway/event-logs.png)

### <a name="fiddler-trace"></a>Трассировка Fiddler
[Fiddler](http://www.telerik.com/fiddler) — это бесплатный инструмент от Telerik, отслеживающий трафик HTTP. Вы можете просматривать все взаимодействие со службой Power BI с клиентского компьютера. Это позволяет найти ошибки и другие связанные сведения.

![](media/service-admin-troubleshooting-power-bi-personal-gateway/fiddler.png)

<a name="SetupLogs"></a>

### <a name="setup-logs"></a>Журналы установки
Если **персональный шлюз** не удается установить, вы увидите ссылку для отображения журнала установки. Он позволяет получить сведения о сбое. Это журналы установки Windows, также известные как журналы MSI. Они могут быть довольно сложными и неудобными для чтения. Как правило, само описание ошибки приведено внизу, но определение причины ошибки является непростой задачей. Это может быть результатом ошибок в другом журнале, или быть результатом ошибки выше в журнале.

![](media/service-admin-troubleshooting-power-bi-personal-gateway/setup-log.png)

Либо можно перейти к **временной папке** (%temp%) и найти файлы, которые начинаются с **Power\_BI\_** .

> [!NOTE]
> При переходе в %temp% вы можете попасть во вложенную папку временной папки. Файлы **Power\_BI\_** находятся в корне временной папки.  Вам может потребоваться перейти вверх на один или два уровня.
> 
> 

![](media/service-admin-troubleshooting-power-bi-personal-gateway/setup-logs2.png)

## <a name="next-steps"></a>Дальнейшие действия
[Настройка параметров прокси-сервера для локального шлюза данных](/data-integration/gateway/service-gateway-proxy)  
[Обновление данных](refresh-data.md)  
[Шлюз Power BI Gateway — Personal](service-gateway-personal-mode.md)  
[Устранение неполадок с плитками](refresh-troubleshooting-tile-errors.md)  
[Устранение неполадок локального шлюза данных](service-gateway-onprem-tshoot.md)  
Появились дополнительные вопросы? [Ответы на них см. в сообществе Power BI.](http://community.powerbi.com/)

