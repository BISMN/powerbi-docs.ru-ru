---
title: Управление источниками данных
description: Сведения об управлении источниками данных в Power BI.
author: mgblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-gateways
ms.topic: conceptual
ms.date: 07/15/2019
ms.author: mblythe
ms.custom: seodec18
LocalizationGroup: Gateways
ms.openlocfilehash: 3a4b343894f23d6f5720d95eb6c92436259befaa
ms.sourcegitcommit: a58461fe7dfa65c751490b52de5fc73f8e69a17f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/19/2019
ms.locfileid: "68352190"
---
# <a name="manage-data-sources"></a>Управление источниками данных

[!INCLUDE [gateway-rewrite](includes/gateway-rewrite.md)]

Power BI поддерживают многие локальные источники, для каждого из которых существуют свои собственные требования. Шлюз можно использовать для одного или нескольких источников данных. В этом примере мы покажем добавление источника данных на примере SQL Server, но процесс для других источников данных будет в целом таким же.

>[!NOTE]
>Большинство операций по управлению источниками данных можно выполнять и с помощью API. Дополнительные сведений см. в статье [REST API (шлюзы)](/rest/api/power-bi/gateways).

## <a name="add-a-data-source"></a>Добавление источника данных

>[!NOTE]
>Группы без адреса электронной почты добавлять запрещено.

1. В службе Power BI в правом верхнем углу экрана щелкните значок шестеренки ![Значок параметров](media/service-gateway-data-sources/icon-gear.png) > **Управление шлюзами**.

    ![Управление шлюзами](media/service-gateway-data-sources/manage-gateways.png)

2. Выберите шлюз, затем щелкните **Добавить источник данных**, или перейдите к разделу "Шлюзы" > **Добавить источник данных**.

    ![Добавление источника данных](media/service-gateway-data-sources/add-data-source.png)

3. Выберите **тип источника данных**.

    ![Выбор SQL Server](media/service-gateway-data-sources/select-sql-server.png)

4. Введите сведения об источнике данных. В нашем примере это имена **сервера**, **базы данных** и другие сведения.  

    ![Параметры источника данных](media/service-gateway-data-sources/data-source-settings.png)

5. Для SQL Server в параметре **Метод проверки подлинности** следует выбрать значение **Windows** или **Базовый** (проверка подлинности SQL). Если вы выбрали вариант **Базовый**, введите учетные данные для доступа к источнику данных.

6. В разделе **Дополнительные параметры** настройте необязательный параметр [Уровень конфиденциальности](https://support.office.com/article/Privacy-levels-Power-Query-CC3EDE4D-359E-4B28-BC72-9BEE7900B540) для источника данных (не применяется к [DirectQuery](desktop-directquery-about.md)).

    ![Дополнительные настройки](media/service-gateway-data-sources/advanced-settings.png)

7. Нажмите кнопку **Добавить**. При успешном завершении процесса вы увидите сообщение *Соединение установлено успешно*.

    ![Соединение установлено успешно](media/service-gateway-data-sources/connection-successful.png)

Теперь этот источник данных можно использовать для применения данных из SQL Server в панелях мониторинга и отчетах Power BI.

## <a name="remove-a-data-source"></a>Удаление источника данных

Источник данных можно удалить, если он больше не используется. Но не забудьте, что при удалении источника данных отключаются все панели мониторинга и отчеты, в которых он используется.

Чтобы удалить источник данных, перейдите к нему и выберите команду **Удалить**.

![Удаление источника данных](media/service-gateway-data-sources/remove-data-source.png)

## <a name="using-the-data-source-for-scheduled-refresh-or-directquery"></a>Использование источника данных для запланированного обновления или DirectQuery

После создания источника данных он будет доступен для использования с подключениями DirectQuery или через функцию запланированного обновления.

> [!NOTE]
>Имена сервера и базы данных в Power BI Desktop и источнике данных в конфигурации локального шлюза должны совпадать.

Связь между набором и источником данных в пределах шлюза основана на именах сервера и базы данных. Они должны совпадать. Например, если вы указали IP-адрес в качестве имени сервера в Power BI Desktop, необходимо использовать такой IP-адрес и для источника данных в конфигурации шлюза. Если вы используете формат *СЕРВЕР\ЭКЗЕМПЛЯР* в Power BI Desktop, нужно использовать тот же формат и в источнике данных, настроенном для шлюза.

Если вы указаны на вкладке **Пользователи** источника данных, настроенного в шлюзе, а имена сервера и базы данных совпадают, вы увидите шлюз в списке вариантов, доступных для использования с запланированным обновлением.

![Подключение шлюза](media/service-gateway-data-sources/gateway-connection.png)

> [!WARNING]
> Если набор данных содержит несколько источников данных, необходимо добавить каждый из них в шлюз. Если в шлюз не добавлен один или несколько источников данных, при запланированном обновлении он не будет доступным.

### <a name="limitations"></a>Ограничения

Локальный шлюз данных поддерживает схему проверки подлинности OAuth только для пользовательских соединителей. Невозможно добавить другие источники данных, требующие OAuth. Если в наборе данных есть источник данных, требующий OAuth, и это не пользовательский соединитель, шлюз невозможно будет использовать для запланированного обновления.

## <a name="manage-users"></a>Управление пользователями

После добавления источника данных к шлюзу вам нужно предоставить пользователям и группам безопасности с поддержкой почты доступ к этом источнику данных (а не ко всему шлюзу). Список пользователей для источника данных определяет, кто может публиковать отчеты, содержащие данные из этого источника данных. Владельцы отчетов могут создавать панели мониторинга, пакеты содержимого и приложения, а также предоставлять доступ к ним другим пользователям.

Также вы можете предоставить пользователям и группам безопасности административный доступ к шлюзу.

### <a name="add-users-to-a-data-source"></a>Добавление пользователей к источнику данных

1. В службе Power BI в правом верхнем углу экрана щелкните значок шестеренки ![Значок параметров](media/service-gateway-data-sources/icon-gear.png) > **Управление шлюзами**.

2. Выберите источник данных, к которому вы хотите добавить пользователей.

3. Выберите **Пользователи** и введите имя пользователя из вашей организации, которому нужно предоставить доступ к выбранному источнику данных. Например, на следующем экране вы добавляете пользователей Maggie и Adam.

    ![Вкладка "Пользователи"](media/service-gateway-data-sources/users-tab.png)

4. Выберите **Добавить**, и добавленные участники отобразятся в списке.

    ![Добавление пользователя](media/service-gateway-data-sources/add-user.png)

Вот, собственно, и все. Помните, что необходимо добавить пользователей для каждого источника данных, к которому вы хотите предоставить доступ. Каждый источник данных имеет отдельный список пользователей, и необходимо добавлять пользователей к каждому источнику данных отдельно.

### <a name="remove-users-from-a-data-source"></a>Удаление пользователей из источника данных

На вкладке **Пользователи** для источника данных можно удалять пользователей или группы безопасности, которые могут с ним работать.

![Удаление пользователя](media/service-gateway-data-sources/remove-user.png)

## <a name="storing-encrypted-credentials-in-the-cloud"></a>Хранение зашифрованных учетных данных в облаке

При добавлении в шлюз источника данных необходимо указать учетные данные для доступа к этому источнику. Все запросы к источнику данных будут выполняться с использованием этих учетных данных. Учетные данные надежно шифруются с применением симметричного шифрования и не могут быть расшифрованы в облаке перед сохранением в облако. Учетные данные отправляются на локальный компьютер со шлюзом и расшифровываются при обращении к источникам данных.

## <a name="list-of-available-data-source-types"></a>Список доступных типов источников данных

Локальный шлюз данных поддерживает следующие источники данных для Power BI. В дополнение к локальным источникам данных, источникам, расположенным за брандмауэром, VPN или виртуальной сети также может потребоваться шлюз данных.

| **Источник данных** | **Активный запрос или запрос DirectQuery** | **Настроенное пользователем ручное или запланированное обновление** |
| --- | --- | --- |
| ActiveDirectory |Нет |Да |
| Amazon Redshift |Да |Да |
| Analysis Services |Да |Да |
| Кубы AtScale |Да |Да |
| Хранилище BLOB-объектов Azure |Нет |Да |
| Azure DevOps Server |Нет |Да |
| Хранилище таблиц Azure |Нет |Да |
| Соединитель BI |Да |Да |
| Denodo |Да |Да |
| Dremio |Да |Да |
| EmigoDataSourceConnector |Нет |Да |
| Essbase |Да |Да |
| Exasol |Да |Да |
| Файл |Нет |Да |
| Папка |Нет |Да |
| Paxata |Нет |Да |
| IBM DB2 |Да |Да |
| База данных IBM Informix |Нет |Да |
| IBM Netezza |Да |Да |
| Impala |Да |Да |
| Jethro ODBC |Да |Да |
| Kyligence Enterprise |Да |Да |
| MarkLogic ODBC |Да |Да |
| Microsoft Graph Security |Нет |Да |
| MySQL |Нет |Да |
| ODBC |Нет |Да |
| OData |Нет |Да |
| OleDb |Нет |Да |
| Oracle |Да |Да |
| PostgreSQL |Нет |Да |
| QubolePresto |Да |Да |
| Quick Base Connector |Нет |Да |
| Сервер сообщений SAP Business Warehouse |Да |Да |
| Сервер SAP Business Warehouse |Да |Да |
| SAP HANA |Да |Да |
| SQL Server |Да |Да |
| SharePoint |Нет |Да |
| Снежинка |Да |Да |
| Spark |Да |Да |
| SurveyMonkey |Нет |Да |
| Sybase |Нет |Да |
| TeamDesk.Database |Нет |Да |
| Teradata |Да |Да |
| Vertica |Да |Да |
| Веб-приложение |Нет |Да |
| Workforce Dimensions |Нет |Да |

## <a name="next-steps"></a>Дальнейшие действия

* [Управление своим источником данных — службы Analysis Services](service-gateway-enterprise-manage-ssas.md)
* [Управление своим источником данных — SAP HANA](service-gateway-enterprise-manage-sap.md)
* [Управление своим источником данных — SQL Server](service-gateway-enterprise-manage-sql.md)
* [Управление своим источником данных — Oracle](service-gateway-onprem-manage-oracle.md)
* [Управление источником данных — импорт или запланированное обновление](service-gateway-enterprise-manage-scheduled-refresh.md)
* [Руководство по развертыванию шлюза данных](service-gateway-deployment-guidance.md)

Появились дополнительные вопросы? [Ответы на них см. в сообществе Power BI.](http://community.powerbi.com/)
