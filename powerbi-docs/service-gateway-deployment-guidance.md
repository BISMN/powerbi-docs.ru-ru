---
title: Руководство по развертыванию шлюза данных для Power BI
description: Ознакомьтесь с рекомендациями по развертыванию шлюза для Power BI.
author: mgblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-gateways
ms.topic: conceptual
ms.date: 07/15/2019
ms.author: mblythe
LocalizationGroup: Gateways
ms.openlocfilehash: 4351804330982b32582c4c782ef7c2fa0e92f197
ms.sourcegitcommit: 277fadf523e2555004f074ec36054bbddec407f8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/16/2019
ms.locfileid: "68271729"
---
# <a name="guidance-for-deploying-a-data-gateway-for-power-bi"></a>Руководство по развертыванию шлюза данных для Power BI

[!INCLUDE [gateway-rewrite](includes/gateway-rewrite.md)]

Эта статья содержит руководство и рекомендации по развертыванию шлюза данных для Power BI в сетевой среде.

Сведения о том, как скачать, установить, настроить локальный шлюз данных и управлять им см. в статье [Что такое локальный шлюз данных](/data-integration/gateway/service-gateway-onprem). Кроме того, дополнительные сведения о локальном шлюзе данных и Power BI см. [в блоге по Microsoft Power](https://powerbi.microsoft.com/blog/) и на сайте [Сообщества Microsoft Power BI](https://community.powerbi.com/).

## <a name="installation-considerations-for-the-on-premises-data-gateway"></a>Рекомендации по установке локального шлюза данных

Прежде чем устанавливать локальный шлюз данных для облачной службы Power BI, следует принять во внимание несколько рекомендаций. Они описаны в следующих разделах.

### <a name="number-of-users"></a>Количество пользователей

Число пользователей, которые работают с отчетом, использующим шлюз — важная метрика, которую нужно учесть при выборе места установки шлюза. Ниже приведены некоторые вопросы, которые следует учесть.

* Будут ли пользователи работать с отчетами в разное время суток?
* Подключения какого типа они используют (DirectQuery или импорт)?
* Будут ли все пользователи работать с одним и тем же отчетом?

Если все пользователи обращаются к отчету в одно время каждый день, то имеет смысл установить шлюз на компьютере, который сможет обрабатывать все эти запросы (в следующих разделах описываются счетчики производительности и минимальные требования, которые помогут вам определить это).

В **Power BI** существует ограничение, позволяющее использовать только *один* шлюз на *отчет*, поэтому, даже если отчет основан на нескольких источниках данных, все они должны проходить через один шлюз. Тем не менее, если панель мониторинга основана на *нескольких* отчетах, то можно использовать выделенный шлюз для каждого из них, тем самым распределив нагрузку между шлюзами этих отчетов.

### <a name="connection-type"></a>Тип подключения

В **Power BI** предлагается два типа подключения: **DirectQuery** и **импорт**. Оба типа подключений поддерживаются не всеми источниками данных, и на выбор типа подключения может влиять множество факторов, включая требования к безопасности, производительность, ограничения данных и размер моделей данных. Дополнительные сведения о типе подключения и поддерживаемых источниках данных приведены в статье [Список доступных типов источников данных](service-gateway-data-sources.md#list-of-available-data-source-types).

Выбранный тип подключения влияет на использование шлюза. Например, старайтесь отделять источники данных **DirectQuery** от источников данных **запланированного обновления**, когда это возможно (при условии, что они находятся в разных отчетах и могут быть разделены). Это предотвратит накопление в очереди шлюза тысяч запросов DirectQuery во время утреннего запланированного обновления модели данных большого размера, используемой для основной панели мониторинга организации. Вот что нужно учитывать для каждого типа:

* **Запланированное обновление**: в зависимости от размера запросов и числа обновлений, выполняемых ежедневно, вы можете не выходить за рамки минимальных рекомендуемых требований к оборудованию или модернизировать компьютер, чтобы повысить производительность. Если какой-либо запрос не свернут, преобразования выполняются на компьютере шлюза, поэтому он работает быстрее с большим объемом памяти.

* **DirectQuery**: запрос отправляется при каждом открытии отчета или просмотре данных любым пользователем. Поэтому, если ожидается, что к данным будут одновременно обращаться более 1000 пользователей, выбранный компьютер должен состоять из надежных и мощных деталей. Большее число ядер ЦП позволит повысить пропускную способность подключения **DirectQuery**.

Требования к компьютеру, на котором осуществляется установка, см. в [требованиях к установке](/data-integration/gateway/service-gateway-install#requirements) для локального шлюза данных.

### <a name="location"></a>Расположение

Расположение установки шлюза может оказать значительное влияние на производительность запросов, поэтому важно убедиться, что шлюз, источники данных и клиент Power BI расположены максимально близко друг к другу, чтобы свести к минимуму задержку сети. Чтобы определить расположение клиента Power BI, в службе Power BI щелкните значок **?** в правом верхнем углу, а затем выберите **О Power BI**.

![Определение расположения клиента Power BI](media/service-gateway-deployment-guidance/powerbi-gateway-deployment-guidance_02.png)

Кроме того, если вы планируете использовать шлюз Power BI с Azure Analysis Services, убедитесь, что области данных в обеих службах совпадают. Дополнительные сведения о настройке областей данных для нескольких служб см. в [этом видео](https://guyinacube.com/2018/01/power-bi-azure-analysis-services-gateway-data-region/).

## <a name="next-steps"></a>Дальнейшие действия

* [Настройка параметров прокси-сервера](/data-integration/gateway/service-gateway-proxy)  
* [Устранение неполадок со шлюзами — Power BI](service-gateway-onprem-tshoot.md)  
* [Вопросы и ответы о локальном шлюзе данных — Power BI](service-gateway-power-bi-faq.md)  

Появились дополнительные вопросы? [Ответы на них см. в сообществе Power BI.](http://community.powerbi.com/)

